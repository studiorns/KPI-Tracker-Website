<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Website KPI Dashboard</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        /* SONER Logo Animation */
        @keyframes sonerScan { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        @keyframes sonerBlip { 0%, 20%, 100% { opacity: 0; } 2%, 15% { opacity: 1; } 3% { transform: scale(1.2); } }
        
        /* SONER Logo styles */
        .soner-logo { display: flex; align-items: center; color: white; font-family: 'Inter', sans-serif; font-size: 28px; font-weight: 300; }
        .soner-radar { width: 24px; height: 24px; border-radius: 50%; border: 1px solid white; margin: 0 3px; position: relative; background-color: rgba(255, 255, 255, 0.05); overflow: hidden; }
        .soner-scanner { position: absolute; top: 0; left: 0; width: 100%; height: 100%; animation: sonerScan 4s linear infinite; transform-origin: center; }
        .soner-scanner::before { content: ''; position: absolute; top: 0; left: 50%; width: 50%; height: 50%; background: linear-gradient(90deg, rgba(255, 255, 255, 0), rgba(255, 255, 255, 0.4)); transform-origin: bottom left; clip-path: polygon(0 0, 100% 0, 0 100%); }
        .soner-scanner::after { content: ''; position: absolute; top: 0; left: 50%; width: 50%; height: 1px; background: linear-gradient(90deg, rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 1)); transform-origin: left center; box-shadow: 0 0 4px rgba(255, 255, 255, 0.8); }
        .soner-blip { position: absolute; width: 2px; height: 2px; background-color: white; border-radius: 50%; opacity: 0; box-shadow: 0 0 4px white; }
        .soner-blip:nth-child(1) { top: 25%; left: 30%; animation: sonerBlip 4s 1s infinite; }
        .soner-blip:nth-child(2) { top: 65%; left: 60%; animation: sonerBlip 4s 2.5s infinite; }
        .soner-tagline { color: white; font-size: 8px; text-transform: uppercase; font-weight: 500; letter-spacing: 0.5em; margin-left: 10px; opacity: 0.8; }

        :root {
            --primary: #4285f4;
            --primary-light: #1a2233;
            --primary-dark: #8ab4f8;
            --secondary: #34a853;
            --secondary-light: #1a2a1e;
            --warning: #fbbc04;
            --warning-light: #332a1a;
            --danger: #ea4335;
            --danger-light: #331f1e;
            --gray-100: #1e1e1e;
            --gray-200: #2d2d2d;
            --gray-300: #3d3d3d;
            --gray-400: #4d4d4d;
            --gray-500: #777777;
            --gray-600: #a0a0a0;
            --gray-700: #c0c0c0;
            --gray-800: #e0e0e0;
            --gray-900: #f0f0f0;
            --shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.3);
            --shadow: 0 4px 6px rgba(0, 0, 0, 0.4);
            --shadow-md: 0 6px 12px rgba(0, 0, 0, 0.5);
            --shadow-lg: 0 15px 25px rgba(0, 0, 0, 0.6);
            --radius-sm: 4px;
            --radius: 8px;
            --radius-md: 12px;
            --radius-lg: 16px;
            --transition: all 0.3s ease;
            --bg-color: #000000;
            --card-bg: #121212;
            --section-bg: #181818;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--bg-color);
            color: var(--gray-800);
            line-height: 1.6;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        
        .container {
            max-width: 1280px;
            margin: 0 auto;
            padding: 0 24px;
        }
        
        header {
            background: linear-gradient(135deg, #1a73e8 0%, #174ea6 100%);
            color: white;
            padding: 32px 0;
            text-align: center;
            margin-bottom: 40px;
            box-shadow: var(--shadow-md);
            position: relative;
            overflow: hidden;
        }
        
        header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQ0MCIgaGVpZ2h0PSI0MDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PGxpbmVhckdyYWRpZW50IHgxPSIxMDAlIiB5MT0iMCUiIHgyPSIwJSIgeTI9IjEwMCUiIGlkPSJhIj48c3RvcCBzdG9wLWNvbG9yPSIjRkZGIiBzdG9wLW9wYWNpdHk9Ii4wNSIgb2Zmc2V0PSIwJSIvPjxzdG9wIHN0b3AtY29sb3I9IiNGRkYiIHN0b3Atb3BhY2l0eT0iLjAyIiBvZmZzZXQ9IjEwMCUiLz48L2xpbmVhckdyYWRpZW50PjwvZGVmcz48cGF0aCBkPSJNMTQ0MCAyMDBjLTEzMS44LTEyLjktMjY3LjgtMTkuNC00MDgtMTkuNC0xNDAuMiAwLTI3Ni4yIDYuNS00MDggMTkuNFYwaDgxNnYyMDB6IiBmaWxsPSJ1cmwoI2EpIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=');
            background-size: cover;
            background-position: center;
            opacity: 0.1;
        }
        
        header h1 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 8px;
            position: relative;
        }
        
        header p {
            font-size: 1.1rem;
            opacity: 0.9;
            max-width: 600px;
            margin: 0 auto;
            position: relative;
        }
        
        h1, h2, h3, h4, h5, h6 {
            margin-top: 0;
            font-weight: 600;
            line-height: 1.3;
            color: var(--gray-900);
        }
        
        h2 {
            font-size: 1.75rem;
            margin-bottom: 1.5rem;
        }
        
        h3 {
            font-size: 1.35rem;
            margin-bottom: 1rem;
        }
        
        h4 {
            font-size: 1.15rem;
            margin-bottom: 0.75rem;
        }
        
        p {
            margin-bottom: 1rem;
        }
        
        .dashboard-section {
            background-color: var(--section-bg);
            border-radius: var(--radius-md);
            box-shadow: var(--shadow);
            padding: 28px;
            margin-bottom: 32px;
            transition: var(--transition);
            border: 1px solid var(--gray-300);
        }
        
        .dashboard-section:hover {
            box-shadow: var(--shadow-md);
            transform: translateY(-2px);
        }
        
        .dashboard-section h2 {
            display: flex;
            align-items: center;
            border-bottom: 2px solid var(--gray-200);
            padding-bottom: 16px;
            margin-bottom: 28px;
            color: var(--gray-900);
            font-size: 1.5rem;
        }
        
        .dashboard-section h2 i {
            margin-right: 12px;
            color: var(--primary);
            font-size: 1.25rem;
        }
        
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            grid-template-rows: repeat(2, 1fr);
            gap: 24px;
            max-width: 100%;
        }
        
        .metric-card {
            background-color: var(--gray-100);
            border-radius: var(--radius);
            padding: 20px;
            box-shadow: var(--shadow-sm);
            transition: var(--transition);
            border: 1px solid var(--gray-200);
            position: relative;
            overflow: hidden;
        }
        
        .metric-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 4px;
            height: 100%;
            background-color: var(--primary);
            opacity: 0;
            transition: var(--transition);
        }
        
        .metric-card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-md);
        }
        
        .metric-card:hover::before {
            opacity: 1;
        }
        
        /* Total Metric Cards */
        .total-metric-card {
            background: linear-gradient(135deg, var(--gray-100) 0%, var(--gray-200) 100%);
            border: 1px solid var(--primary);
            box-shadow: 0 4px 12px rgba(66, 133, 244, 0.15);
            position: relative;
            overflow: hidden;
        }
        
        .total-metric-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 4px;
            height: 100%;
            background-color: var(--primary);
            opacity: 1;
        }
        
        .total-metric-card .metric-name {
            color: var(--primary-dark);
            font-size: 1rem;
            font-weight: 700;
        }
        
        .total-metric-card .metric-value {
            font-size: 2.5rem;
            color: white;
        }
        
        .total-metric-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px rgba(66, 133, 244, 0.25);
        }
        
        /* YTD Metric Cards */
        .ytd-metric-card {
            background: linear-gradient(135deg, var(--gray-100) 0%, var(--gray-200) 100%);
            border: 1px solid var(--secondary);
            box-shadow: 0 4px 12px rgba(52, 168, 83, 0.15);
        }
        
        .ytd-metric-card::before {
            background-color: var(--secondary);
        }
        
        .ytd-metric-card .metric-name {
            color: var(--secondary);
        }
        
        .ytd-metric-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px rgba(52, 168, 83, 0.25);
        }
        
        .metric-name {
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--gray-600);
            font-size: 0.875rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            display: flex;
            align-items: center;
        }
        
        .metric-name i {
            margin-right: 8px;
            color: var(--primary);
        }
        
        .metric-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--gray-900);
            margin-bottom: 12px;
            line-height: 1.2;
        }
        
        .metric-stats {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .metric-stat {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.85rem;
        }
        
        .stat-label {
            color: var(--gray-600);
        }
        
        .stat-value {
            font-weight: 600;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 0.8rem;
        }
        
        .positive { 
            background-color: var(--secondary-light); 
            color: var(--secondary);
        }
        
        .negative { 
            background-color: var(--danger-light); 
            color: var(--danger);
        }
        
        .warning {
            background-color: var(--warning-light);
            color: var(--warning);
        }
        
        .chart-container {
            position: relative;
            height: 400px;
            width: 100%;
            margin-bottom: 28px;
            background-color: var(--card-bg);
            border-radius: var(--radius);
            padding: 20px;
            box-shadow: var(--shadow-sm);
            overflow: hidden;
            border: 1px solid var(--gray-300);
            transition: var(--transition);
        }
        
        .chart-container:hover {
            box-shadow: var(--shadow-md);
        }
        
        /* Charts row for horizontal layout */
        .charts-row {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .charts-row .chart-container {
            flex: 1;
            min-width: 300px;
            margin-bottom: 0;
        }
        
        .tab-container {
            margin-top: 24px;
        }
        
        .tab-buttons {
            display: flex;
            border-bottom: 1px solid var(--gray-300);
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 24px;
        }
        
        .tab-btn {
            padding: 12px 24px;
            background: none;
            border: none;
            cursor: pointer;
            font-weight: 600;
            color: var(--gray-600);
            border-radius: var(--radius) var(--radius) 0 0;
            transition: var(--transition);
            position: relative;
            font-size: 0.95rem;
        }
        
        .tab-btn::after {
            content: '';
            position: absolute;
            bottom: -1px;
            left: 0;
            width: 100%;
            height: 3px;
            background-color: var(--primary);
            transform: scaleX(0);
            transition: var(--transition);
        }
        
        .tab-btn:hover {
            color: var(--primary);
        }
        
        .tab-btn.active {
            color: var(--primary);
        }
        
        .tab-btn.active::after {
            transform: scaleX(1);
        }
        
        .tab-content {
            display: none;
            padding: 8px 0 24px;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .tab-content.active {
            display: block;
        }
        
        .insight-summary {
            background-color: var(--primary-light);
            border-left: 4px solid var(--primary);
            padding: 20px 24px;
            margin-bottom: 28px;
            border-radius: 0 var(--radius) var(--radius) 0;
            position: relative;
        }
        
        .insight-summary::before {
            content: '\f0eb';
            font-family: 'Font Awesome 6 Free';
            font-weight: 900;
            position: absolute;
            top: 20px;
            right: 24px;
            font-size: 1.5rem;
            color: var(--primary);
            opacity: 0.2;
        }
        
        .insight-summary h3 {
            color: var(--primary-dark);
            margin-bottom: 12px;
            font-size: 1.25rem;
            display: flex;
            align-items: center;
        }
        
        .insight-summary h3 i {
            margin-right: 10px;
        }
        
        .insight-summary p {
            margin: 0;
            color: var(--gray-800);
            font-size: 1.05rem;
            line-height: 1.6;
        }
        
        .print-btn {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background-color: var(--primary);
            color: white;
            border: none;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(26, 115, 232, 0.4);
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
            z-index: 1000;
        }
        
        .print-btn:hover {
            background-color: var(--primary-dark);
            transform: translateY(-4px) scale(1.05);
            box-shadow: 0 6px 16px rgba(26, 115, 232, 0.5);
        }
        
        /* Section Collapsible Styles */
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            border-bottom: 2px solid var(--gray-200);
            padding-bottom: 16px;
        }
        
        .section-title {
            display: flex;
            align-items: center;
            color: var(--gray-900);
            font-size: 1.5rem;
            font-weight: 600;
            margin: 0;
        }
        
        .section-title i {
            margin-right: 12px;
            color: var(--primary);
            font-size: 1.25rem;
        }
        
        .section-content {
            max-height: 5000px;
            overflow: hidden;
            transition: max-height 0.8s ease, opacity 0.5s ease;
            opacity: 1;
        }
        
        .section-content.collapsed {
            max-height: 0;
            opacity: 0;
            overflow: hidden;
        }
        
        .section-toggle {
            background: transparent;
            border: none;
            color: var(--primary);
            cursor: pointer;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            padding: 0;
        }
        
        .section-toggle:hover {
            background-color: rgba(66, 133, 244, 0.1);
            transform: scale(1.1);
        }
        
        .section-toggle:focus {
            outline: none;
            box-shadow: 0 0 0 2px rgba(66, 133, 244, 0.3);
        }
        
        .section-toggle i {
            transition: transform 0.3s ease;
            font-size: 16px;
        }
        
        .section-toggle.collapsed i {
            transform: rotate(-180deg);
        }
        
        /* Skeleton Loader */
        .skeleton {
            background: linear-gradient(90deg, #e0e0e0 25%, #f0f0f0 50%, #e0e0e0 75%);
            background-size: 200% 100%;
            animation: skeleton-loading 1.5s infinite;
        }
        @keyframes skeleton-loading {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }
        .metric-card .metric-value.skeleton {
            height: 40px;
            width: 100px;
            border-radius: var(--radius-sm);
        }
        
        @media (max-width: 768px) {
            .metrics-grid {
                grid-template-columns: 1fr;
            }
            
            .tab-buttons {
                flex-direction: column;
            }
            
            .tab-btn {
                width: 100%;
                text-align: left;
                padding: 12px;
                border-radius: 0;
            }
            
            .print-btn {
                bottom: 20px;
                width: 50px;
                height: 50px;
                font-size: 20px;
                right: 20px;
            }
            
            .container {
                padding: 0 16px;
            }
            
            .dashboard-section {
                padding: 20px;
                margin-bottom: 24px;
            }
            
            .chart-container {
                height: 350px;
                padding: 16px;
            }
            
            /* Stack charts vertically on mobile */
            .charts-row {
                flex-direction: column;
            }
            
            .charts-row .chart-container {
                width: 100%;
                margin-bottom: 28px;
            }
        }
        
        @media (max-width: 480px) {
            .dashboard-section h2 {
                font-size: 1.3rem;
            }
            
            .metric-value {
                font-size: 1.6rem;
            }
            
            .chart-container {
                height: 300px;
                padding: 12px;
            }
            
            header h1 {
                font-size: 2rem;
            }
        }
        
        @media print {
            body {
                background-color: white;
            }
            
            .dashboard-section {
                box-shadow: none;
                break-inside: avoid;
            }
            
            .print-btn {
                display: none;
            }
            
            .tab-content {
                display: block !important;
            }
            
            .tab-buttons {
                display: none;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <div style="display: flex; justify-content: center; align-items: center; margin-bottom: 15px;">
                <a href="https://studiorns.github.io/KPI-Tracker-Repository/" style="text-decoration: none; color: inherit;">
                    <div class="soner-logo">
                        S<div class="soner-radar">
                            <div class="soner-scanner"></div>
                            <div class="soner-blip"></div>
                            <div class="soner-blip"></div>
                        </div>NER
                        <span class="soner-tagline">Visual Intelligence</span>
                    </div>
                </a>
            </div>
            <h1>Website KPI Dashboard</h1>
            <p>January-June 2025 Performance Analysis</p>
        </div>
    </header>
    
    <div class="container">
        <div class="dashboard-section">
            <div class="section-header">
                <h2 class="section-title"><i class="fas fa-chart-pie"></i> Total Metrics</h2>
                <button class="section-toggle" aria-label="Toggle section" aria-expanded="true">
                    <i class="fas fa-chevron-up"></i>
                </button>
            </div>
            <div class="section-content">
                <div class="insight-summary">
                    <h3><i class="fas fa-lightbulb"></i> Total Performance</h3>
                    <p>Aggregated metrics across Website initiatives showing organic total sessions, organic total users, and user engagement metrics (% of users clicking on to further pages, % of users clicking to partner pages, average session duration, and engagement rate) with comparisons to forecast, MoM, and YTD performance.</p>
                </div>
                
                <div class="metrics-grid" id="total-metrics-container">
                    <!-- Total metric cards will be dynamically populated here -->
                    <div class="metric-card">
                        <div class="metric-name"><i class="fas fa-spinner fa-spin"></i> Loading total metrics...</div>
                        <div class="metric-value">-</div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="dashboard-section">
            <div class="section-header">
                <h2 class="section-title"><i class="fas fa-tachometer-alt"></i> Performance Overview</h2>
                <button class="section-toggle" aria-label="Toggle section" aria-expanded="true">
                    <i class="fas fa-chevron-up"></i>
                </button>
            </div>
            <div class="section-content">
            <div class="insight-summary">
                <h3><i class="fas fa-lightbulb"></i> Key Insights</h3>
                <p>Website performance through June 2025 shows mixed results across the 5 core KPIs. Traffic metrics face challenges with Organic Total Sessions at 73.1% YTD achievement (890,940 vs 1,218,902 forecast) and Corporate Total Sessions at 19.3% YTD achievement (235,151 vs 1,218,902 forecast). However, engagement quality remains strong with Corporate Engagement Rate exceeding expectations at 114.3% YTD achievement (68.6% vs 60% forecast) and % of users clicking further pages performing well at 106.6% YTD achievement (31.28% vs 29.35% forecast). Corporate Pageviews achieved 86.7% of YTD forecast (403,805 vs 465,877.5 forecast). June specifically showed continued traffic decline but maintained engagement quality, indicating that while fewer users are visiting, those who do are highly engaged with the content.</p>
            </div>
            
            <div class="metrics-grid" id="metrics-container">
                <!-- Metric cards will be dynamically populated here -->
                <div class="metric-card">
                    <div class="metric-name"><i class="fas fa-spinner fa-spin"></i> Loading metrics...</div>
                    <div class="metric-value">-</div>
                </div>
            </div>
            </div>
        </div>
        
        <div class="dashboard-section" id="monthly-trends">
            <div class="section-header">
                <h2 class="section-title"><i class="fas fa-chart-line"></i> Monthly Trends</h2>
                <button class="section-toggle" aria-label="Toggle section" aria-expanded="true">
                    <i class="fas fa-chevron-up"></i>
                </button>
            </div>
            <div class="section-content">
            
            <div class="tab-container">
                <div class="tab-buttons">
                    <button class="tab-btn active" data-tab="organic-sessions">Organic Sessions</button>
                    <button class="tab-btn" data-tab="users-clicking-further">Users Clicking Further</button>
                    <button class="tab-btn" data-tab="users-clicking-partner">Users Clicking Partner</button>
                    <button class="tab-btn" data-tab="users-subscribing-newsletters">Newsletter Subscriptions</button>
                </div>
                
                <div class="tab-content active" id="organic-sessions-tab">
                    <div class="chart-container">
                        <canvas id="organic-sessions-trend-chart" data-lazy="true"></canvas>
                    </div>
                </div>
                
                <div class="tab-content" id="users-clicking-further-tab">
                    <div class="chart-container">
                        <canvas id="users-clicking-further-trend-chart" data-lazy="true"></canvas>
                    </div>
                </div>
                
                <div class="tab-content" id="users-clicking-partner-tab">
                    <div class="chart-container">
                        <canvas id="users-clicking-partner-trend-chart" data-lazy="true"></canvas>
                    </div>
                </div>
                
                <div class="tab-content" id="users-subscribing-newsletters-tab">
                    <div class="chart-container">
                        <canvas id="users-subscribing-newsletters-trend-chart" data-lazy="true"></canvas>
                    </div>
                </div>
                
            </div>
            </div>
        </div>
        
        <div class="dashboard-section" id="ytd-achievement">
            <div class="section-header">
                <h2 class="section-title"><i class="fas fa-bullseye"></i> YTD Achievement</h2>
                <button class="section-toggle" aria-label="Toggle section" aria-expanded="true">
                    <i class="fas fa-chevron-up"></i>
                </button>
            </div>
            <div class="section-content">
                <div class="chart-container">
                    <canvas id="ytd-achievement-chart" data-lazy="true"></canvas>
                </div>
            </div>
        </div>
        
        <div class="dashboard-section" id="initiative-details">
            <div class="section-header">
                <h2 class="section-title"><i class="fas fa-chart-bar"></i> Initiative Details</h2>
                <button class="section-toggle" aria-label="Toggle section" aria-expanded="true">
                    <i class="fas fa-chevron-up"></i>
                </button>
            </div>
            <div class="section-content">
            
            <div class="tab-container">
                <div class="tab-buttons">
                    <button class="tab-btn active" data-tab="website">Website</button>
                </div>
                
                <div class="tab-content active" id="website-tab">
                    <h3>Campaigns Website KPIs</h3>
                    <div class="charts-row">
                        <div class="chart-container">
                            <canvas id="campaigns-website-organic-total-sessions-chart" data-lazy="true"></canvas>
                        </div>
                        <div class="chart-container">
                            <canvas id="campaigns-website-users-clicking-further-chart" data-lazy="true"></canvas>
                        </div>
                    </div>
                    <div class="charts-row">
                        <div class="chart-container">
                            <canvas id="campaigns-website-users-clicking-partner-chart" data-lazy="true"></canvas>
                        </div>
                        <div class="chart-container">
                            <canvas id="campaigns-website-users-subscribing-newsletters-chart" data-lazy="true"></canvas>
                        </div>
                    </div>
                </div>
                </div>
            </div>
        </div>
    </div>
    
    <footer style="background-color: var(--gray-100); color: var(--gray-700); padding: 20px 0; text-align: center; border-top: 1px solid var(--gray-300); margin-top: 40px;">
        <div class="container">
            <p>© 2025 Research & Insights Unit | Strategic Marketing & Communications | Department of Culture and Tourism – Abu Dhabi</p>
        </div>
    </footer>
    
    <button class="print-btn" title="Print Dashboard" id="print-dashboard">
        <i class="fas fa-print"></i>
    </button>
    
    <!-- CSV Data -->
    <script>
        // CSV data embedded directly to avoid CORS issues with local files
        const csvData = `Key,Initiative Cards,Sub Initiative,Metric,Month,Actual,Forecast,YTD Actual Totals,YTD Forecast Totals
Campaigns-Website-Organic Total Sessions-January,Campaigns,Website,Organic Total Sessions,January,192312,265450,192312,265450
Campaigns-Website-Organic Total Sessions-February,Campaigns,Website,Organic Total Sessions,February,163631,238697,355943,504147
Campaigns-Website-Organic Total Sessions-March,Campaigns,Website,Organic Total Sessions,March,153650,166718,509593,670865
Campaigns-Website-Organic Total Sessions-April,Campaigns,Website,Organic Total Sessions,April,148268,227768,657861,898633
Campaigns-Website-Organic Total Sessions-May,Campaigns,Website,Organic Total Sessions,May,132356,175539,790217,1074172
Campaigns-Website-Organic Total Sessions-June,Campaigns,Website,Organic Total Sessions,June,100723,144730,890940,1218902
Campaigns-Website-Organic Total Sessions-July,Campaigns,Website,Organic Total Sessions,July,0,134883,890940,1353785
Campaigns-Website-Organic Total Sessions-August,Campaigns,Website,Organic Total Sessions,August,0,119693,890940,1473478
Campaigns-Website-Organic Total Sessions-September,Campaigns,Website,Organic Total Sessions,September,0,137002,890940,1610480
Campaigns-Website-Organic Total Sessions-October,Campaigns,Website,Organic Total Sessions,October,0,178350,890940,1788830
Campaigns-Website-Organic Total Sessions-November,Campaigns,Website,Organic Total Sessions,November,0,205619,890940,1994449
Campaigns-Website-Organic Total Sessions-December,Campaigns,Website,Organic Total Sessions,December,0,244570,890940,2239019
Campaigns-Website-% of users clicking on to further pages-January,Campaigns,Website,% of users clicking on to further pages,January,0.294,0.284,0.294,0.284
Campaigns-Website-% of users clicking on to further pages-February,Campaigns,Website,% of users clicking on to further pages,February,0.313,0.2876,0.3035,0.2858
Campaigns-Website-% of users clicking on to further pages-March,Campaigns,Website,% of users clicking on to further pages,March,0.335,0.2915,0.314,0.2877
Campaigns-Website-% of users clicking on to further pages-April,Campaigns,Website,% of users clicking on to further pages,April,0.325,0.2954,0.3168,0.2896
Campaigns-Website-% of users clicking on to further pages-May,Campaigns,Website,% of users clicking on to further pages,May,0.309,0.2992,0.3152,0.2915
Campaigns-Website-% of users clicking on to further pages-June,Campaigns,Website,% of users clicking on to further pages,June,0.301,0.3031,0.3128,0.2935
Campaigns-Website-% of users clicking on to further pages-July,Campaigns,Website,% of users clicking on to further pages,July,0,0.307,0.3128,0.2954
Campaigns-Website-% of users clicking on to further pages-August,Campaigns,Website,% of users clicking on to further pages,August,0,0.3108,0.3128,0.2973
Campaigns-Website-% of users clicking on to further pages-September,Campaigns,Website,% of users clicking on to further pages,September,0,0.3147,0.3128,0.2993
Campaigns-Website-% of users clicking on to further pages-October,Campaigns,Website,% of users clicking on to further pages,October,0,0.3186,0.3128,0.3012
Campaigns-Website-% of users clicking on to further pages-November,Campaigns,Website,% of users clicking on to further pages,November,0,0.3234,0.3128,0.3032
Campaigns-Website-% of users clicking on to further pages-December,Campaigns,Website,% of users clicking on to further pages,December,0,0.3263,0.3128,0.3051
Campaigns-Website-% of users clicking to partner pages-January,Campaigns,Website,% of users clicking to partner pages,January,0.1195,0.11,0.1195,0.11
Campaigns-Website-% of users clicking to partner pages-February,Campaigns,Website,% of users clicking to partner pages,February,0.1175,0.1118,0.1185,0.1109
Campaigns-Website-% of users clicking to partner pages-March,Campaigns,Website,% of users clicking to partner pages,March,0.1173,0.1136,0.1181,0.1118
Campaigns-Website-% of users clicking to partner pages-April,Campaigns,Website,% of users clicking to partner pages,April,0.1108,0.1154,0.1163,0.1127
Campaigns-Website-% of users clicking to partner pages-May,Campaigns,Website,% of users clicking to partner pages,May,0.095,0.1172,0.112,0.1136
Campaigns-Website-% of users clicking to partner pages-June,Campaigns,Website,% of users clicking to partner pages,June,0.096,0.119,0.1094,0.1145
Campaigns-Website-% of users clicking to partner pages-July,Campaigns,Website,% of users clicking to partner pages,July,0,0.1209,0.1094,0.1154
Campaigns-Website-% of users clicking to partner pages-August,Campaigns,Website,% of users clicking to partner pages,August,0,0.1227,0.1094,0.1163
Campaigns-Website-% of users clicking to partner pages-September,Campaigns,Website,% of users clicking to partner pages,September,0,0.1245,0.1094,0.1172
Campaigns-Website-% of users clicking to partner pages-October,Campaigns,Website,% of users clicking to partner pages,October,0,0.1263,0.1094,0.1181
Campaigns-Website-% of users clicking to partner pages-November,Campaigns,Website,% of users clicking to partner pages,November,0,0.1281,0.1094,0.119
Campaigns-Website-% of users clicking to partner pages-December,Campaigns,Website,% of users clicking to partner pages,December,0,0.13,0.1094,0.12
Campaigns-Website-% of users subscribing to newsletters-January,Campaigns,Website,% of users subscribing to newsletters,January,0.0007,0.0004,0.0007,0.0004
Campaigns-Website-% of users subscribing to newsletters-February,Campaigns,Website,% of users subscribing to newsletters,February,0.0007,0.0004,0.0007,0.0004
Campaigns-Website-% of users subscribing to newsletters-March,Campaigns,Website,% of users subscribing to newsletters,March,0.0012,0.0004,0.000867,0.0004
Campaigns-Website-% of users subscribing to newsletters-April,Campaigns,Website,% of users subscribing to newsletters,April,0.0011,0.00041,0.000925,0.00041
Campaigns-Website-% of users subscribing to newsletters-May,Campaigns,Website,% of users subscribing to newsletters,May,0.0015,0.00042,0.00104,0.00042
Campaigns-Website-% of users subscribing to newsletters-June,Campaigns,Website,% of users subscribing to newsletters,June,0.0005,0.00043,0.00095,0.00043
Campaigns-Website-% of users subscribing to newsletters-July,Campaigns,Website,% of users subscribing to newsletters,July,0,0.00044,0.00095,0.00044
Campaigns-Website-% of users subscribing to newsletters-August,Campaigns,Website,% of users subscribing to newsletters,August,0,0.00045,0.00095,0.00045
Campaigns-Website-% of users subscribing to newsletters-September,Campaigns,Website,% of users subscribing to newsletters,September,0,0.00046,0.00095,0.00046
Campaigns-Website-% of users subscribing to newsletters-October,Campaigns,Website,% of users subscribing to newsletters,October,0,0.00047,0.00095,0.00047
Campaigns-Website-% of users subscribing to newsletters-November,Campaigns,Website,% of users subscribing to newsletters,November,0,0.00048,0.00095,0.00048
Campaigns-Website-% of users subscribing to newsletters-December,Campaigns,Website,% of users subscribing to newsletters,December,0,0.00049,0.00095,0.00049
Corporate-Website-Total Sessions-January,Corporate,Website,Total Sessions,January,34564,265450,34564,265450
Corporate-Website-Total Sessions-February,Corporate,Website,Total Sessions,February,29729,238697,64293,504147
Corporate-Website-Total Sessions-March,Corporate,Website,Total Sessions,March,38585,166718,102878,670865
Corporate-Website-Total Sessions-April,Corporate,Website,Total Sessions,April,59242,227768,162120,898633
Corporate-Website-Total Sessions-May,Corporate,Website,Total Sessions,May,46624,175539,208744,1074172
Corporate-Website-Total Sessions-June,Corporate,Website,Total Sessions,June,26407,144730,235151,1218902
Corporate-Website-Total Sessions-July,Corporate,Website,Total Sessions,July,0,134883,235151,1353785
Corporate-Website-Total Sessions-August,Corporate,Website,Total Sessions,August,0,119693,235151,1473478
Corporate-Website-Total Sessions-September,Corporate,Website,Total Sessions,September,0,137002,235151,1610480
Corporate-Website-Total Sessions-October,Corporate,Website,Total Sessions,October,0,178350,235151,1788830
Corporate-Website-Total Sessions-November,Corporate,Website,Total Sessions,November,0,205619,235151,1994449
Corporate-Website-Total Sessions-December,Corporate,Website,Total Sessions,December,0,244570,235151,2239019
Corporate-Website-Pageviews-January,Corporate,Website,Pageviews,January,64631,69916,64631,69916
Corporate-Website-Pageviews-February,Corporate,Website,Pageviews,February,57128,63543.7,121759,133459.7
Corporate-Website-Pageviews-March,Corporate,Website,Pageviews,March,62770,65830.6,184529,199290.3
Corporate-Website-Pageviews-April,Corporate,Website,Pageviews,April,92550,118256.6,277079,317546.9
Corporate-Website-Pageviews-May,Corporate,Website,Pageviews,May,78080,79671.9,355159,397218.8
Corporate-Website-Pageviews-June,Corporate,Website,Pageviews,June,48646,68658.7,403805,465877.5
Corporate-Website-Pageviews-July,Corporate,Website,Pageviews,July,0,73416.2,403805,539293.7
Corporate-Website-Pageviews-August,Corporate,Website,Pageviews,August,0,66308,403805,605601.7
Corporate-Website-Pageviews-September,Corporate,Website,Pageviews,September,0,100674.2,403805,706275.9
Corporate-Website-Pageviews-October,Corporate,Website,Pageviews,October,0,94570.3,403805,800846.2
Corporate-Website-Pageviews-November,Corporate,Website,Pageviews,November,0,0,403805,800846.2
Corporate-Website-Pageviews-December,Corporate,Website,Pageviews,December,0,0,403805,800846.2
Corporate-Website-Engagement Rate-January,Corporate,Website,Engagement Rate,January,0.643,0.6,0.643,0.6
Corporate-Website-Engagement Rate-February,Corporate,Website,Engagement Rate,February,0.6215,0.6,0.63225,0.6
Corporate-Website-Engagement Rate-March,Corporate,Website,Engagement Rate,March,0.73,0.6,0.664833,0.6
Corporate-Website-Engagement Rate-April,Corporate,Website,Engagement Rate,April,0.7487,0.6,0.6858,0.6
Corporate-Website-Engagement Rate-May,Corporate,Website,Engagement Rate,May,0.733,0.6,0.69524,0.6
Corporate-Website-Engagement Rate-June,Corporate,Website,Engagement Rate,June,0.6384,0.6,0.685767,0.6
Corporate-Website-Engagement Rate-July,Corporate,Website,Engagement Rate,July,0,0.6,0.685767,0.6
Corporate-Website-Engagement Rate-August,Corporate,Website,Engagement Rate,August,0,0.6,0.685767,0.6
Corporate-Website-Engagement Rate-September,Corporate,Website,Engagement Rate,September,0,0.6,0.685767,0.6
Corporate-Website-Engagement Rate-October,Corporate,Website,Engagement Rate,October,0,0.6,0.685767,0.6
Corporate-Website-Engagement Rate-November,Corporate,Website,Engagement Rate,November,0,0.6,0.685767,0.6
Corporate-Website-Engagement Rate-December,Corporate,Website,Engagement Rate,December,0,0.6,0.685767,0.6`;
    </script>
    
    <!-- Tab functionality -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Set up tab switching
            const tabButtons = document.querySelectorAll('.tab-btn');
            
            tabButtons.forEach(button => {
                button.addEventListener('click', function() {
                    // Get the tab to show
                    const tabToShow = this.getAttribute('data-tab');
                    
                    // Hide all tabs and remove active class from buttons
                    const tabContainer = this.closest('.tab-container');
                    tabContainer.querySelectorAll('.tab-content').forEach(tab => {
                        tab.classList.remove('active');
                    });
                    
                    tabContainer.querySelectorAll('.tab-btn').forEach(btn => {
                        btn.classList.remove('active');
                    });
                    
                    // Show the selected tab and add active class to button
                    document.getElementById(tabToShow + '-tab').classList.add('active');
                    this.classList.add('active');
                });
            });
            
            // Print functionality
            document.getElementById('print-dashboard').addEventListener('click', function() {
                window.print();
            });
        });
    </script>
    
    <!-- Lazy Loading for Charts -->
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const lazyCharts = document.querySelectorAll('canvas[data-lazy="true"]');
            const observer = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const canvas = entry.target;
                        const chartId = canvas.id;
                        // Initialize the chart when it becomes visible
                        initializeChart(chartId);
                        observer.unobserve(canvas);
                    }
                });
            });

            lazyCharts.forEach(chart => observer.observe(chart));

            function initializeChart(chartId) {
                // Example chart initialization logic
                console.log(`Initializing chart: ${chartId}`);
                // Add your chart.js initialization code here
            }
        });
    </script>
    
    <!-- Load JavaScript files -->
    <script src="Website.js"></script>
    <script src="collapsible.js"></script>
    
    <!-- Initialize dashboard -->
    <script>
        // Wait for the page to load and then initialize the dashboard
        window.addEventListener('load', function() {
            console.log('Page loaded, initializing dashboard...');
            try {
                // Show loading indicator
                document.getElementById('metrics-container').innerHTML = `
                    <div class="metric-card">
                        <div class="metric-name"><i class="fas fa-spinner fa-spin"></i> Loading data...</div>
                        <div class="metric-value">Please wait</div>
                        <div class="metric-stats">
                            <div class="metric-stat">
                                <span class="stat-label">Processing the latest data</span>
                            </div>
                        </div>
                    </div>
                `;
                
                if (window.dashboardFunctions && typeof window.dashboardFunctions.initializeDashboard === 'function') {
                    window.dashboardFunctions.initializeDashboard(csvData);
                    console.log('Dashboard initialized successfully with latest data');
                } else {
                    console.error('Dashboard functions not available');
                    document.getElementById('metrics-container').innerHTML = `
                        <div class="metric-card">
                            <div class="metric-name"><i class="fas fa-exclamation-triangle"></i> Error</div>
                            <div class="metric-value">Dashboard functions not available</div>
                            <div class="metric-stats">
                                <div class="metric-stat">
                                    <span class="stat-label">Please check if Website.js is loaded correctly.</span>
                                </div>
                            </div>
                        </div>
                    `;
                }
            } catch (error) {
                console.error('Error initializing dashboard:', error);
                document.getElementById('metrics-container').innerHTML = `
                    <div class="metric-card">
                        <div class="metric-name"><i class="fas fa-exclamation-triangle"></i> Error</div>
                        <div class="metric-value">Failed to initialize dashboard</div>
                        <div class="metric-stats">
                            <div class="metric-stat">
                                <span class="stat-label">Please try again later or contact support.</span>
                            </div>
                        </div>
                    </div>
                `;
            }
        });
    </script>
</body>
</html>
